<!DOCTYPE html>
<html>
<head>
  <title>Time Analytics</title>
  <link rel="stylesheet" href="styles.css">
  <script src="lib/chart.umd.js"></script>
  <script src="lib/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="analytics-container">
    <h1>Website Time Analytics</h1>
    
    <div class="view-tabs">
      <button class="tab-button active" data-view="daily">Daily View</button>
      <button class="tab-button" data-view="weekly">Weekly Report</button>
    </div>
    
    <div id="daily-view" class="view-content active">
      <div class="date-selector">
        <label for="date-select">Select Date: </label>
        <input type="date" id="date-select">
      </div>
      
      <div class="chart-container">
        <div class="time-totals">
          <div class="time-card productive">
            <h3>Productive Time</h3>
            <div id="productive-total">00:00:00</div>
          </div>
          
          <canvas id="time-chart"></canvas>
          
          <div class="time-card unproductive">
            <h3>Unproductive Time</h3>
            <div id="unproductive-total">00:00:00</div>
          </div>
        </div>
      </div>
      
      <div class="website-lists">
        <div class="productive-list">
          <h2>Productive Websites</h2>
          <ul id="productive-websites"></ul>
        </div>
        <div class="unproductive-list">
          <h2>Unproductive Websites</h2>
          <ul id="unproductive-websites"></ul>
        </div>
      </div>
    </div>
    
    <div id="weekly-view" class="view-content">
      <div class="report-header">
        <h2>Weekly Productivity Report</h2>
        <button id="export-pdf" class="export-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"/>
            <path d="M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>
          </svg>
          Export PDF
        </button>
      </div>
      
      <div class="summary-cards">
        <div class="summary-card productive">
          <h3>Total Productive</h3>
          <div id="weekly-productive">00:00:00</div>
        </div>
        <div class="summary-card unproductive">
          <h3>Total Unproductive</h3>
          <div id="weekly-unproductive">00:00:00</div>
        </div>
        <div class="summary-card ratio">
          <h3>Productivity Ratio</h3>
          <div id="productivity-ratio">0%</div>
        </div>
      </div>
      
      <div class="weekly-chart-container">
        <canvas id="weekly-chart"></canvas>
      </div>
      
      <div class="top-sections">
        <div class="top-sites">
          <h3>Top Visited Sites</h3>
          <ul id="top-sites-list"></ul>
        </div>
        
        <div class="daily-breakdown">
          <h3>Daily Breakdown</h3>
          <table id="daily-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Productive</th>
                <th>Unproductive</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  
  <script src="analytics.js"></script>
</body>
</html>